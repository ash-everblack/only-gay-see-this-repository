TweenService=cloneref(game:GetService("TweenService"))local a={}a.Holder=nil;a.ActiveNotifications={}local function b(c,d,e)local f=Instance.new(c)for g,h in pairs(d or{})do if g~="Parent"then pcall(function()f[g]=h end)end end;for i,j in ipairs(e or{})do j.Parent=f end;if d.Parent then f.Parent=d.Parent end;return f end;function a:Init(k)if self.Holder then self.Holder:Destroy()end;local l;if k:IsA("BasePlayerGui")or k.Name=="CoreGui"then l=b("ScreenGui",{Name="NotificationSystemGui",ResetOnSpawn=false,ZIndexBehavior=Enum.ZIndexBehavior.Sibling,Parent=k})k=l end;self.Holder=b("Frame",{Position=UDim2.new(1,-30,1,-30),Size=UDim2.new(0,310,1,-30),AnchorPoint=Vector2.new(1,1),BackgroundTransparency=1,Name="NotificationHolder",ZIndexBehavior=Enum.ZIndexBehavior.Sibling,Parent=k},{b("UIListLayout",{HorizontalAlignment=Enum.HorizontalAlignment.Center,SortOrder=Enum.SortOrder.LayoutOrder,VerticalAlignment=Enum.VerticalAlignment.Bottom,Padding=UDim.new(0,20)})})return self end;function a:Send(m)if not self.Holder then warn("NotificationSystem must be initialized with :Init() before sending notifications")return end;m=m or{}m.Title=m.Title or"Title"m.Content=m.Content or"Content"m.SubContent=m.SubContent or""m.Duration=m.Duration or nil;m.Buttons=m.Buttons or{}local n={}for i,o in ipairs(self.ActiveNotifications)do if not o.Closed and o.Title.Text==m.Title then table.insert(n,o)end end;if#n>=2 then n[1]:Close(true)end;local p={Closed=false,Connections={}}p.Title=b("TextLabel",{Position=UDim2.new(0,14,0,17),Text=m.Title,RichText=true,TextColor3=Color3.fromRGB(255,255,255),TextTransparency=0,FontFace=Font.new("rbxasset://fonts/families/SourceSansPro.json",Enum.FontWeight.Medium),TextSize=13,TextXAlignment=Enum.TextXAlignment.Left,TextYAlignment=Enum.TextYAlignment.Center,Size=UDim2.new(1,-40,0,12),BackgroundTransparency=1})p.ContentLabel=b("TextLabel",{FontFace=Font.new("rbxasset://fonts/families/SourceSansPro.json",Enum.FontWeight.Bold),Text=m.Content,TextColor3=Color3.fromRGB(240,240,240),TextSize=14,RichText=true,TextXAlignment=Enum.TextXAlignment.Left,AutomaticSize=Enum.AutomaticSize.Y,Size=UDim2.new(1,0,0,14),BackgroundTransparency=1,TextWrapped=true,Visible=m.Content~=""})p.SubContentLabel=b("TextLabel",{FontFace=Font.new("rbxasset://fonts/families/SourceSansPro.json",Enum.FontWeight.Bold),Text=m.SubContent,TextColor3=Color3.fromRGB(200,200,200),TextSize=13,RichText=true,TextXAlignment=Enum.TextXAlignment.Left,AutomaticSize=Enum.AutomaticSize.Y,Size=UDim2.new(1,0,0,14),BackgroundTransparency=1,TextWrapped=true,Visible=m.SubContent~=""})p.ButtonHolder=b("Frame",{Name="ButtonHolder",BackgroundTransparency=1,Size=UDim2.new(1,-28,0,#m.Buttons==0 and 0 or 32),Position=UDim2.new(0,14,1,-14),AnchorPoint=Vector2.new(0,1),Visible=#m.Buttons>0},{b("UIListLayout",{FillDirection=Enum.FillDirection.Horizontal,HorizontalAlignment=Enum.HorizontalAlignment.Right,VerticalAlignment=Enum.VerticalAlignment.Center,Padding=UDim.new(0,6)})})for i,q in ipairs(m.Buttons)do local r=b("TextButton",{Text=q.Text or"Button",Size=UDim2.fromOffset(72,26),BackgroundTransparency=0.3,BackgroundColor3=Color3.fromRGB(41,21,61),TextColor3=Color3.fromRGB(255,255,255),Font=Enum.Font.SourceSans,TextSize=13,AutoButtonColor=false,BorderSizePixel=0,Parent=p.ButtonHolder},{b("UICorner",{CornerRadius=UDim.new(0,6)}),b("UIStroke",{ApplyStrokeMode=Enum.ApplyStrokeMode.Border,Color=Color3.fromRGB(107,0,230),Thickness=1})})table.insert(p.Connections,r.MouseButton1Click:Connect(function()if q.Callback then pcall(q.Callback)end;p:Close()end))end;p.LabelHolder=b("Frame",{AutomaticSize=Enum.AutomaticSize.Y,BackgroundTransparency=1,Position=UDim2.fromOffset(14,40),Size=UDim2.new(1,-28,0,0)},{b("UIListLayout",{SortOrder=Enum.SortOrder.LayoutOrder,VerticalAlignment=Enum.VerticalAlignment.Center,Padding=UDim.new(0,3)}),p.ContentLabel,p.SubContentLabel})p.CloseButton=b("TextButton",{Text="Ã—",Position=UDim2.new(1,-14,0,13),Size=UDim2.fromOffset(20,20),AnchorPoint=Vector2.new(1,0),BackgroundTransparency=1,TextColor3=Color3.fromRGB(200,200,200),Font=Enum.Font.SourceSansBold,TextSize=20})local s=2;local t=Color3.fromRGB(162,0,255)local u=8;p.BorderTop=b("Frame",{Name="BorderTop",BackgroundColor3=t,BorderSizePixel=0,Size=UDim2.new(0,0,0,s),Position=UDim2.new(0,u/2,0,0),ZIndex=5})p.BorderRight=b("Frame",{Name="BorderRight",BackgroundColor3=t,BorderSizePixel=0,Size=UDim2.new(0,s,0,0),Position=UDim2.new(1,-s,0,u/2),ZIndex=5})p.BorderBottom=b("Frame",{Name="BorderBottom",BackgroundColor3=t,BorderSizePixel=0,Size=UDim2.new(0,0,0,s),Position=UDim2.new(1,-u/2,1,-s),AnchorPoint=Vector2.new(1,0),ZIndex=5})p.BorderLeft=b("Frame",{Name="BorderLeft",BackgroundColor3=t,BorderSizePixel=0,Size=UDim2.new(0,s,0,0),Position=UDim2.new(0,0,1,-u/2),AnchorPoint=Vector2.new(0,1),ZIndex=5})local v={"TopLeft","TopRight","BottomRight","BottomLeft"}local w={TopLeft=UDim2.new(0,0,0,0),TopRight=UDim2.new(1,-u,0,0),BottomRight=UDim2.new(1,-u,1,-u),BottomLeft=UDim2.new(0,0,1,-u)}for i,x in ipairs(v)do p["Corner"..x]=b("Frame",{Name="Corner"..x,BackgroundColor3=t,BorderSizePixel=0,Size=UDim2.fromOffset(u,u),Position=w[x],ZIndex=5,Visible=false},{b("UICorner",{CornerRadius=UDim.new(1,0)})})end;p.Root=b("Frame",{BackgroundColor3=Color3.fromRGB(49,3,95),BackgroundTransparency=0.5,Size=UDim2.new(1,0,1,0),Position=UDim2.fromScale(1,0),Name="NotificationRoot"},{b("UICorner",{CornerRadius=UDim.new(0,6)}),b("UIStroke",{Thickness=1,Transparency=0,Color=Color3.fromRGB(93,0,243),ApplyStrokeMode=Enum.ApplyStrokeMode.Border}),p.Title,p.CloseButton,p.LabelHolder,p.ButtonHolder,p.BorderTop,p.BorderRight,p.BorderBottom,p.BorderLeft,p.CornerTopLeft,p.CornerTopRight,p.CornerBottomRight,p.CornerBottomLeft})p.Holder=b("Frame",{BackgroundTransparency=1,Size=UDim2.new(1,0,0,200),Parent=self.Holder,Name="NotificationHolder"},{p.Root})table.insert(p.Connections,p.CloseButton.MouseButton1Click:Connect(function()p:Close()end))p.AnimationThread=nil;local function y(z)if p.AnimationThread then task.cancel(p.AnimationThread)end;p.AnimationThread=task.spawn(function()task.wait(0.2)local A=p.Root;if not A or not A.Parent then return end;local B=A.AbsoluteSize.X;local C=A.AbsoluteSize.Y;if B==0 or C==0 then return end;local D=B-u;local E=C-u;local F=B-u;local G=C-u;local H=D+E+F+G;local I=tick()local J=z and z*0.899 or 3;while not p.Closed and p.Root and p.Root.Parent do local K=tick()-I;local L;if z then L=math.min(K/J,1)else L=K%3/3 end;local M=L*H;p.BorderTop.Size=UDim2.new(0,0,0,s)p.BorderRight.Size=UDim2.new(0,s,0,0)p.BorderBottom.Size=UDim2.new(0,0,0,s)p.BorderLeft.Size=UDim2.new(0,s,0,0)p.CornerTopLeft.Visible=false;p.CornerTopRight.Visible=false;p.CornerBottomRight.Visible=false;p.CornerBottomLeft.Visible=false;p.CornerTopLeft.Visible=true;if M<=D then p.BorderTop.Size=UDim2.new(0,M,0,s)else p.BorderTop.Size=UDim2.new(0,D,0,s)p.CornerTopRight.Visible=true;if M<=D+E then p.BorderRight.Size=UDim2.new(0,s,0,M-D)else p.BorderRight.Size=UDim2.new(0,s,0,E)p.CornerBottomRight.Visible=true;if M<=D+E+F then p.BorderBottom.Size=UDim2.new(0,M-D-E,0,s)else p.BorderBottom.Size=UDim2.new(0,F,0,s)p.CornerBottomLeft.Visible=true;local N=M-D-E-F;p.BorderLeft.Size=UDim2.new(0,s,0,N)end end end;if z and L>=1 then break end;task.wait(0.016)end end)end;function p:Open()task.wait()local O=self.LabelHolder.AbsoluteSize.Y;local P=#m.Buttons>0 and 32 or 0;self.Holder.Size=UDim2.new(1,0,0,58+O+P)local Q=TweenService:Create(self.Root,TweenInfo.new(0.4,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Position=UDim2.fromScale(0,0)})Q:Play()y(m.Duration)end;function p:Close(R)if not self.Closed then self.Closed=true;local S=table.find(a.ActiveNotifications,self)if S then table.remove(a.ActiveNotifications,S)end;if self.AnimationThread then task.cancel(self.AnimationThread)end;for i,T in ipairs(self.Connections)do T:Disconnect()end;if R then if self.Holder and self.Holder.Parent then self.Holder:Destroy()end;return end;if self.Root and self.Root.Parent then local Q=TweenService:Create(self.Root,TweenInfo.new(0.3,Enum.EasingStyle.Back,Enum.EasingDirection.In),{Position=UDim2.fromScale(1,0)})Q:Play()Q.Completed:Connect(function()if self.Holder and self.Holder.Parent then self.Holder:Destroy()end end)end end end;p:Open()table.insert(self.ActiveNotifications,p)if m.Duration then task.delay(m.Duration,function()if not p.Closed then p:Close()end end)end;return p end;return a
